<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Water Wind AutoReload</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
  </head>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
  </head>
  <body>
    
    <div class = "about-wrapper">
      <div class = "about-left">
        <div class = "about-left-content">
          <div>
            <div class = "shadow">
              <div class = "about-img">
                <img src = "https://cdn.pixabay.com/photo/2018/11/13/21/43/instagram-3814049__340.png" alt = "about image">
              </div>
            </div>

            <h2>Purwitasari</h2>
            <h3>Web developer</h3>
          </div>

          <ul class = "icons">
            <li><i class = "fab fa-facebook-f"></i></li>
            <li><i class = "fab fa-twitter"></i></li>
            <li><i class = "fab fa-linkedin"></i></li>
            <li><i class = "fab fa-instagram"></i></li>
          </ul>
        </div>
        
      </div>

      <div class = "about-right">
        <h1>Hello<span>!</span></h1>
        <h2>Here's who I am & what I do</h2>
        <div class = "about-btns">
          <button type = "button" class = "btn btn-pink">Git hub</button>
        </div>

        <div class = "about-para">
          <p>Hello! Nama saya Purwitasari. Saya lulusan Matematika Universitas Brawijaya. Saat ini saya sedang belajar cara mengoding.</p>
          <p>Senang bertemu denganmu.</p>
        </div>
    </div>
  </body>
  <body class="container p-3">
    <p class="display-5"><h2>Water Wind AutoReload</h2></p>
    <div>
      <table class="table">
        <thead class="thead-dark">
          <tr>
            <th>Water</th>
            <th>Water Status</th>
            <th>Wind</th>
            <th>WindStatus</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><p id="water"></p></td>
            <td><p id="SWater"></p></td>
            <td><p id="wind"></p></td>
            <td><p id="SWind"></p></td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>

<script>
    const api_url = "http://localhost:1212/AutoReload/Last"
  
   async function get_data(a) { 
       const response = await fetch(a)
       var data = await response.json()
       var water = data["status"]["water"]
       var SWater = data["WaterStatus"]
       var wind = data["status"]["wind"]
       var SWind = data["WindStatus"]
       
       document.getElementById("water").innerHTML = water + " meter"; 
       document.getElementById("SWater").innerHTML = SWater;
       document.getElementById("wind").innerHTML = wind + " m/s";
       document.getElementById("SWind").innerHTML = SWind;
       setTimeout(() => get_data(a), 1000*5)
       
  }
  
  get_data(api_url);
</script>
</html>